{"ast":null,"code":"import _objectSpread from\"C:/Users/johnn/Documents/Noshly/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/* eslint-disable no-unused-vars */import React,{useState,useEffect}from\"react\";import{useNavigate,useOutletContext}from\"react-router-dom\";import\"./ProfilePage.css\";// Profile-specific styles\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const baseURL=(()=>{const{hostname}=window.location;if(hostname===\"127.0.0.1\"||hostname===\"localhost\"){return\"http://127.0.0.1:5000\";}else if(hostname.includes(\"johnnygardner.co.uk\")){return\"https://www.johnnygardner.co.uk\";}else{return\"https://noshly.onrender.com\";}})();const countries=[\"United Kingdom\",\"United States\",\"Canada\",\"Australia\",\"Germany\",\"France\",\"India\",\"Japan\"];const Profile=()=>{const[profileData,setProfileData]=useState(null);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);const[success,setSuccess]=useState(\"\");const[deletionError,setDeletionError]=useState(\"\");const[deletionSuccess,setDeletionSuccess]=useState(\"\");const[showDeleteConfirmation,setShowDeleteConfirmation]=useState(false);const[country,setCountry]=useState(profileData===null||profileData===void 0?void 0:profileData.country);const[adults,setAdults]=useState((profileData===null||profileData===void 0?void 0:profileData.adults)||1);const[children,setChildren]=useState((profileData===null||profileData===void 0?void 0:profileData.children)||0);const[allergies,setAllergies]=useState([]);const[dietary_preferences,setDietaryPreferences]=useState([]);const[days,setDays]=useState((profileData===null||profileData===void 0?void 0:profileData.plan_days)||1);const[selectedOptions,setSelectedOptions]=useState({allergies:[],dietary_preferences:[]});const navigate=useNavigate();const{updateFirstName}=useOutletContext();const options=[{type:\"allergy\",name:\"Peanuts\",emoji:\"ðŸ¥œ\"},{type:\"allergy\",name:\"Tree Nuts\",emoji:\"ðŸŒ°\"},{type:\"allergy\",name:\"Dairy\",emoji:\"ðŸ¥›\"},{type:\"allergy\",name:\"Eggs\",emoji:\"ðŸ³\"},{type:\"allergy\",name:\"Shellfish\",emoji:\"ðŸ¦\"},{type:\"allergy\",name:\"Fish\",emoji:\"ðŸŸ\"},{type:\"allergy\",name:\"Wheat\",emoji:\"ðŸŒ¾\"},{type:\"allergy\",name:\"Gluten\",emoji:\"ðŸž\"},{type:\"allergy\",name:\"Soy\",emoji:\"ðŸŒ±\"},{type:\"allergy\",name:\"Sesame\",emoji:\"âšª\"},{type:\"dietary\",name:\"Vegetarian\",emoji:\"ðŸ¥—\"},{type:\"dietary\",name:\"Vegan\",emoji:\"ðŸŒ¿\"},{type:\"dietary\",name:\"Keto\",emoji:\"ðŸ¥“\"},{type:\"dietary\",name:\"High-Protein\",emoji:\"ðŸ—\"},{type:\"dietary\",name:\"Pescatarian\",emoji:\"ðŸŸ\"},{type:\"dietary\",name:\"Low-Carb\",emoji:\"ðŸ¥©\"},{type:\"dietary\",name:\"Flexitarian\",emoji:\"ðŸŒŽ\"},{type:\"dietary\",name:\"Sustainable\",emoji:\"ðŸ’š\"},{type:\"dietary\",name:\"Halal\",emoji:\"ðŸ•Œ\"},{type:\"dietary\",name:\"Kosher\",emoji:\"âœ¡ï¸\"},{type:\"dietary\",name:\"Hindu Veg\",emoji:\"ðŸ›•\"},{type:\"dietary\",name:\"Buddhist Veg\",emoji:\"â˜¸ï¸\"}];const handleCheckboxChange=(category,value)=>{setSelectedOptions(prevState=>{const newCategory=prevState[category].includes(value)?prevState[category].filter(item=>item!==value):[...prevState[category],value];// Update the relevant state (allergies or dietaryPreferences)\nif(category===\"allergies\"){setAllergies(newCategory);// Update the allergies state\n}else if(category===\"dietary_preferences\"){setDietaryPreferences(newCategory);// Update the dietaryPreferences state\n}return _objectSpread(_objectSpread({},prevState),{},{[category]:newCategory});});};useEffect(()=>{const fetchProfileData=async()=>{const token=localStorage.getItem(\"authToken\");if(!token){navigate(\"/login\");return;}try{const response=await fetch(\"\".concat(baseURL,\"/profile\"),{headers:{Authorization:\"Bearer \".concat(token)}});if(!response.ok){throw new Error(\"Unauthorized\");}const result=await response.json();setProfileData(result);setSelectedOptions({allergies:result.allergies||[],dietary_preferences:result.dietary_preferences||[]});setCountry(result.country);setDays(result.plan_days);setAdults(result.adults);setChildren(result.children);}catch(error){setError(\"You are not authorized to access this page.\");navigate(\"/login\");}finally{setLoading(false);}};fetchProfileData();},[navigate]);const handleInputChange=e=>{const{name,value,type,checked}=e.target;if(type===\"checkbox\"){// Handle checkboxes\nsetProfileData(prevState=>{const updatedOptions=checked?[...prevState[name],value]:prevState[name].filter(item=>item!==value);return _objectSpread(_objectSpread({},prevState),{},{[name]:updatedOptions});});}else if(type===\"number\"){// Handle number inputs\nsetProfileData(prevState=>_objectSpread(_objectSpread({},prevState),{},{[name]:Math.max(1,Number(value))// Ensure the value is at least 1 or 0 for children\n}));}else{// Handle other inputs (e.g., text, select)\nsetProfileData(prevState=>_objectSpread(_objectSpread({},prevState),{},{[name]:value}));}};const handleSave=async()=>{const token=localStorage.getItem(\"authToken\");try{const response=await fetch(\"\".concat(baseURL,\"/profile\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(profileData)});if(!response.ok){throw new Error(\"Failed to update profile\");}const result=await response.json();setSuccess(result.message);setError(null);// Update the user's first name in the Topbar\nif(profileData.firstname){updateFirstName(profileData.firstname);}}catch(error){setError(\"Error updating profile. Please try again.\");setSuccess(\"\");}};// Handle Account Deletion\nconst handleDeleteAccount=async()=>{const token=localStorage.getItem(\"authToken\");try{const response=await fetch(\"\".concat(baseURL,\"/delete_account\"),{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(token)}});if(!response.ok){throw new Error(\"Failed to delete account\");}// Success message\nconst result=await response.json();setDeletionSuccess(result.message);setDeletionError(null);// Logout after account deletion\nlocalStorage.removeItem(\"authToken\");navigate(\"/login\");}catch(error){setDeletionError(\"Error deleting account. Please try again.\");setDeletionSuccess(\"\");}};const handleShowDeleteConfirmation=()=>{setShowDeleteConfirmation(true);};const handleCancelDelete=()=>{setShowDeleteConfirmation(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile-header\",children:\"Your Profile\"}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:success}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstname\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstname\",name:\"firstname\",value:(profileData===null||profileData===void 0?void 0:profileData.firstname)||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastname\",name:\"lastname\",value:(profileData===null||profileData===void 0?void 0:profileData.lastname)||\"\",onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email (Read-only):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",name:\"email\",value:(profileData===null||profileData===void 0?void 0:profileData.email)||\"\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",children:\"Country:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"input-field select-field\",name:\"country\"// Set name to reference profileData\n,value:(profileData===null||profileData===void 0?void 0:profileData.country)||\"\",onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your country\"}),countries.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c,children:c},c))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Adults:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"number-input\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{adults:Math.max(1,prev.adults-1)})),children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"adults\",value:(profileData===null||profileData===void 0?void 0:profileData.adults)||1,onChange:handleInputChange,min:\"1\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{adults:Math.min(10,prev.adults+1)})),children:\"+\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Children:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"number-input\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{children:Math.max(0,prev.children-1)})),children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"children\",value:(profileData===null||profileData===void 0?void 0:profileData.children)||0,onChange:handleInputChange,min:\"0\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{children:prev.children+1})),children:\"+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group checkbox-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"checkbox-label\",children:\"Allergies (optional):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-options\",children:options.filter(option=>option.type===\"allergy\").map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"allergies\",value:option.name,checked:profileData===null||profileData===void 0?void 0:profileData.allergies.includes(option.name),onChange:handleInputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"emoji\",children:option.emoji}),\" \",option.name]},option.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group checkbox-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"checkbox-label\",children:\"Dietary Preferences (optional):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-options\",children:options.filter(option=>option.type===\"dietary\").map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"dietary_preferences\",value:option.name,checked:profileData===null||profileData===void 0?void 0:profileData.dietary_preferences.includes(option.name),onChange:handleInputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"emoji\",children:option.emoji}),\" \",option.name]},option.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"plan_days\",children:\"Plan Days:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"number-input\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{plan_days:Math.max(1,prev.plan_days-1)})),children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"plan_days\",value:(profileData===null||profileData===void 0?void 0:profileData.plan_days)||1,onChange:handleInputChange,min:\"1\",max:\"7\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{plan_days:Math.min(7,prev.plan_days+1)})),children:\"+\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-next\",onClick:handleSave,children:\"Update\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"delete-account-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Your Account\"}),deletionSuccess&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:deletionSuccess}),deletionError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:deletionError}),/*#__PURE__*/_jsx(\"button\",{className:\"button delete-account-button\",onClick:handleShowDeleteConfirmation,children:\"Delete Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"warning-text\",children:\"Warning: Deleting your account is permanent and cannot be undone.\"})]}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Are you sure you want to delete your account?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This action cannot be undone.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button confirm-button\",onClick:handleDeleteAccount,children:\"Yes, Delete Account\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button cancel-button\",onClick:handleCancelDelete,children:\"Cancel\"})]})]})})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useOutletContext","jsx","_jsx","jsxs","_jsxs","baseURL","hostname","window","location","includes","countries","Profile","profileData","setProfileData","error","setError","loading","setLoading","success","setSuccess","deletionError","setDeletionError","deletionSuccess","setDeletionSuccess","showDeleteConfirmation","setShowDeleteConfirmation","country","setCountry","adults","setAdults","children","setChildren","allergies","setAllergies","dietary_preferences","setDietaryPreferences","days","setDays","plan_days","selectedOptions","setSelectedOptions","navigate","updateFirstName","options","type","name","emoji","handleCheckboxChange","category","value","prevState","newCategory","filter","item","_objectSpread","fetchProfileData","token","localStorage","getItem","response","fetch","concat","headers","Authorization","ok","Error","result","json","handleInputChange","e","checked","target","updatedOptions","Math","max","Number","handleSave","method","body","JSON","stringify","message","firstname","handleDeleteAccount","removeItem","handleShowDeleteConfirmation","handleCancelDelete","className","htmlFor","id","onChange","lastname","email","readOnly","required","map","c","onClick","prev","min","option"],"sources":["C:/Users/johnn/Documents/Noshly/frontend/src/pages/ProfilePage.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useOutletContext  } from \"react-router-dom\";\r\nimport \"./ProfilePage.css\"; // Profile-specific styles\r\n\r\nconst baseURL = (() => {\r\n  const { hostname } = window.location;\r\n  if (hostname === \"127.0.0.1\" || hostname === \"localhost\") {\r\n    return \"http://127.0.0.1:5000\";\r\n  } else if (hostname.includes(\"johnnygardner.co.uk\")) {\r\n    return \"https://www.johnnygardner.co.uk\";\r\n  } else {\r\n    return \"https://noshly.onrender.com\";\r\n  }\r\n})();\r\n\r\nconst countries = [\"United Kingdom\", \"United States\", \"Canada\", \"Australia\", \"Germany\", \"France\", \"India\", \"Japan\"];\r\n\r\nconst Profile = () => {\r\n  const [profileData, setProfileData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [deletionError, setDeletionError] = useState(\"\");\r\n  const [deletionSuccess, setDeletionSuccess] = useState(\"\");\r\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\r\n  const [country, setCountry] = useState(profileData?.country);\r\n  const [adults, setAdults] = useState(profileData?.adults || 1);\r\n  const [children, setChildren] = useState(profileData?.children || 0);\r\n  const [allergies, setAllergies] = useState([]);\r\n  const [dietary_preferences, setDietaryPreferences] = useState([]);\r\n  const [days, setDays] = useState(profileData?.plan_days || 1);\r\n  const [selectedOptions, setSelectedOptions] = useState({\r\n  allergies: [],\r\n  dietary_preferences: []\r\n});\r\n  const navigate = useNavigate();\r\n  const { updateFirstName } = useOutletContext();\r\n\r\n  const options = [\r\n  { type: \"allergy\", name: \"Peanuts\", emoji: \"ðŸ¥œ\" },\r\n  { type: \"allergy\", name: \"Tree Nuts\", emoji: \"ðŸŒ°\" },\r\n  { type: \"allergy\", name: \"Dairy\", emoji: \"ðŸ¥›\" },\r\n  { type: \"allergy\", name: \"Eggs\", emoji: \"ðŸ³\" },\r\n  { type: \"allergy\", name: \"Shellfish\", emoji: \"ðŸ¦\" },\r\n  { type: \"allergy\", name: \"Fish\", emoji: \"ðŸŸ\" },\r\n  { type: \"allergy\", name: \"Wheat\", emoji: \"ðŸŒ¾\" },\r\n  { type: \"allergy\", name: \"Gluten\", emoji: \"ðŸž\" },\r\n  { type: \"allergy\", name: \"Soy\", emoji: \"ðŸŒ±\" },\r\n  { type: \"allergy\", name: \"Sesame\", emoji: \"âšª\" },\r\n  { type: \"dietary\", name: \"Vegetarian\", emoji: \"ðŸ¥—\" },\r\n  { type: \"dietary\", name: \"Vegan\", emoji: \"ðŸŒ¿\" },\r\n  { type: \"dietary\", name: \"Keto\", emoji: \"ðŸ¥“\" },\r\n  { type: \"dietary\", name: \"High-Protein\", emoji: \"ðŸ—\" },\r\n  { type: \"dietary\", name: \"Pescatarian\", emoji: \"ðŸŸ\" },\r\n  { type: \"dietary\", name: \"Low-Carb\", emoji: \"ðŸ¥©\" },\r\n  { type: \"dietary\", name: \"Flexitarian\", emoji: \"ðŸŒŽ\" },\r\n  { type: \"dietary\", name: \"Sustainable\", emoji: \"ðŸ’š\" },\r\n  { type: \"dietary\", name: \"Halal\", emoji: \"ðŸ•Œ\" },\r\n  { type: \"dietary\", name: \"Kosher\", emoji: \"âœ¡ï¸\" },\r\n  { type: \"dietary\", name: \"Hindu Veg\", emoji: \"ðŸ›•\" },\r\n  { type: \"dietary\", name: \"Buddhist Veg\", emoji: \"â˜¸ï¸\" },\r\n  ]\r\n\r\n  const handleCheckboxChange = (category, value) => {\r\n  setSelectedOptions(prevState => {\r\n    const newCategory = prevState[category].includes(value)\r\n      ? prevState[category].filter(item => item !== value)\r\n      : [...prevState[category], value];\r\n\r\n    // Update the relevant state (allergies or dietaryPreferences)\r\n    if (category === \"allergies\") {\r\n      setAllergies(newCategory); // Update the allergies state\r\n    } else if (category === \"dietary_preferences\") {\r\n      setDietaryPreferences(newCategory); // Update the dietaryPreferences state\r\n    }\r\n\r\n    return {\r\n      ...prevState,\r\n      [category]: newCategory\r\n    };\r\n  });\r\n};\r\n\r\n  useEffect(() => {\r\n    const fetchProfileData = async () => {\r\n      const token = localStorage.getItem(\"authToken\");\r\n\r\n      if (!token) {\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`${baseURL}/profile`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Unauthorized\");\r\n        }\r\n\r\n        const result = await response.json();\r\n        setProfileData(result);\r\n        setSelectedOptions({\r\n        allergies: result.allergies || [],\r\n        dietary_preferences: result.dietary_preferences || [],\r\n      });\r\n        setCountry(result.country);\r\n        setDays(result.plan_days);\r\n        setAdults(result.adults);\r\n        setChildren(result.children);\r\n\r\n      } catch (error) {\r\n        setError(\"You are not authorized to access this page.\");\r\n        navigate(\"/login\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProfileData();\r\n  }, [navigate]);\r\n\r\n  const handleInputChange = (e) => {\r\n  const { name, value, type, checked } = e.target;\r\n\r\n  if (type === \"checkbox\") {\r\n    // Handle checkboxes\r\n    setProfileData(prevState => {\r\n      const updatedOptions = checked\r\n        ? [...prevState[name], value]\r\n        : prevState[name].filter((item) => item !== value);\r\n      return {\r\n        ...prevState,\r\n        [name]: updatedOptions,\r\n      };\r\n    });\r\n  } else if (type === \"number\") {\r\n    // Handle number inputs\r\n    setProfileData(prevState => ({\r\n      ...prevState,\r\n      [name]: Math.max(1, Number(value)),  // Ensure the value is at least 1 or 0 for children\r\n    }));\r\n  } else {\r\n    // Handle other inputs (e.g., text, select)\r\n    setProfileData(prevState => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  }\r\n};\r\n\r\n  const handleSave = async () => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    try {\r\n      const response = await fetch(`${baseURL}/profile`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(profileData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to update profile\");\r\n      }\r\n\r\n      const result = await response.json();\r\n      setSuccess(result.message);\r\n      setError(null);\r\n      // Update the user's first name in the Topbar\r\n      if (profileData.firstname) {\r\n        updateFirstName(profileData.firstname);\r\n      }\r\n\r\n    } catch (error) {\r\n      setError(\"Error updating profile. Please try again.\");\r\n      setSuccess(\"\");\r\n    }\r\n  };\r\n\r\n  // Handle Account Deletion\r\n  const handleDeleteAccount = async () => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    try {\r\n      const response = await fetch(`${baseURL}/delete_account`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to delete account\");\r\n      }\r\n\r\n      // Success message\r\n      const result = await response.json();\r\n      setDeletionSuccess(result.message);\r\n      setDeletionError(null);\r\n\r\n      // Logout after account deletion\r\n      localStorage.removeItem(\"authToken\");\r\n      navigate(\"/login\");\r\n    } catch (error) {\r\n      setDeletionError(\"Error deleting account. Please try again.\");\r\n      setDeletionSuccess(\"\");\r\n    }\r\n  };\r\n\r\n  const handleShowDeleteConfirmation = () => {\r\n    setShowDeleteConfirmation(true);\r\n  };\r\n\r\n  const handleCancelDelete = () => {\r\n    setShowDeleteConfirmation(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <h1 className=\"profile-header\">Your Profile</h1>\r\n      {success && <p className=\"success-message\">{success}</p>}\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"firstname\">First Name:</label>\r\n          <input\r\n              type=\"text\"\r\n              id=\"firstname\"\r\n              name=\"firstname\"\r\n              value={profileData?.firstname || \"\"}\r\n              onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"lastname\">Last Name:</label>\r\n          <input\r\n              type=\"text\"\r\n              id=\"lastname\"\r\n              name=\"lastname\"\r\n              value={profileData?.lastname || \"\"}\r\n              onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email (Read-only):</label>\r\n          <input\r\n              type=\"text\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={profileData?.email || \"\"}\r\n              readOnly\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"country\">Country:</label>\r\n          <select\r\n              className=\"input-field select-field\"\r\n              name=\"country\"  // Set name to reference profileData\r\n              value={profileData?.country || \"\"}\r\n              onChange={handleInputChange}\r\n              required\r\n          >\r\n            <option value=\"\">Select your country</option>\r\n            {countries.map((c) => (\r\n                <option key={c} value={c}>\r\n                  {c}\r\n                </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Adults:</label>\r\n          <div className=\"number-input\">\r\n            <button type=\"button\"\r\n                    onClick={() => setProfileData(prev => ({...prev, adults: Math.max(1, prev.adults - 1)}))}>-\r\n            </button>\r\n            <input\r\n                type=\"number\"\r\n                name=\"adults\"\r\n                value={profileData?.adults || 1}\r\n                onChange={handleInputChange}\r\n                min=\"1\"\r\n            />\r\n            <button type=\"button\"\r\n                    onClick={() => setProfileData(prev => ({...prev, adults: Math.min(10, prev.adults + 1)}))}>+\r\n            </button>\r\n          </div>\r\n\r\n          <label>Children:</label>\r\n          <div className=\"number-input\">\r\n            <button type=\"button\"\r\n                    onClick={() => setProfileData(prev => ({...prev, children: Math.max(0, prev.children - 1)}))}>-\r\n            </button>\r\n            <input\r\n                type=\"number\"\r\n                name=\"children\"\r\n                value={profileData?.children || 0}\r\n                onChange={handleInputChange}\r\n                min=\"0\"\r\n            />\r\n            <button type=\"button\" onClick={() => setProfileData(prev => ({...prev, children: prev.children + 1}))}>+\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group checkbox-group\">\r\n          <label className=\"checkbox-label\">Allergies (optional):</label>\r\n          <div className=\"checkbox-options\">\r\n            {options\r\n                .filter(option => option.type === \"allergy\")\r\n                .map(option => (\r\n                    <label key={option.name} className=\"checkbox-item\">\r\n                      <input\r\n                          type=\"checkbox\"\r\n                          name=\"allergies\"\r\n                          value={option.name}\r\n                          checked={profileData?.allergies.includes(option.name)}\r\n                          onChange={handleInputChange}\r\n                      />\r\n                      <span className=\"custom-checkbox\"></span>\r\n                      <span className=\"emoji\">{option.emoji}</span> {option.name}\r\n                    </label>\r\n                ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group checkbox-group\">\r\n          <label className=\"checkbox-label\">Dietary Preferences (optional):</label>\r\n          <div className=\"checkbox-options\">\r\n            {options\r\n                .filter(option => option.type === \"dietary\")\r\n                .map(option => (\r\n                    <label key={option.name} className=\"checkbox-item\">\r\n                      <input\r\n                          type=\"checkbox\"\r\n                          name=\"dietary_preferences\"\r\n                          value={option.name}\r\n                          checked={profileData?.dietary_preferences.includes(option.name)}\r\n                          onChange={handleInputChange}\r\n                      />\r\n                      <span className=\"custom-checkbox\"></span>\r\n                      <span className=\"emoji\">{option.emoji}</span> {option.name}\r\n                    </label>\r\n                ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"plan_days\">Plan Days:</label>\r\n          <div className=\"number-input\">\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setProfileData(prev => ({...prev, plan_days: Math.max(1, prev.plan_days - 1)}))}\r\n            >\r\n              -\r\n            </button>\r\n            <input\r\n                type=\"number\"\r\n                name=\"plan_days\"\r\n                value={profileData?.plan_days || 1}\r\n                onChange={handleInputChange}\r\n                min=\"1\"\r\n                max=\"7\"\r\n                required\r\n            />\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setProfileData(prev => ({...prev, plan_days: Math.min(7, prev.plan_days + 1)}))}\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"button-container\">\r\n          <button type=\"button\" className=\"button-next\" onClick={handleSave}>\r\n            Update\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {/* Delete Account Section */}\r\n      <div className=\"delete-account-container\">\r\n        <h2>Delete Your Account</h2>\r\n        {deletionSuccess && <p className=\"success-message\">{deletionSuccess}</p>}\r\n        {deletionError && <p className=\"error-message\">{deletionError}</p>}\r\n        <button\r\n            className=\"button delete-account-button\"\r\n            onClick={handleShowDeleteConfirmation}\r\n        >\r\n          Delete Account\r\n        </button>\r\n        <p className=\"warning-text\">\r\n          Warning: Deleting your account is permanent and cannot be undone.\r\n        </p>\r\n      </div>\r\n      {/* Confirmation Pop-up */}\r\n      {showDeleteConfirmation && (\r\n          <div className=\"confirmation-popup\">\r\n          <div className=\"confirmation-content\">\r\n              <h3>Are you sure you want to delete your account?</h3>\r\n              <p>This action cannot be undone.</p>\r\n              <div className=\"confirmation-buttons\">\r\n                <button className=\"button confirm-button\" onClick={handleDeleteAccount}>\r\n                  Yes, Delete Account\r\n                </button>\r\n                <button className=\"button cancel-button\" onClick={handleCancelDelete}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}